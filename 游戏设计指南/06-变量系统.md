# 变量系统

## 什么是变量

变量（Variable）用于记录玩家的状态、选择和进度。

## 变量的类型

**状态标记**（推荐）：
```javascript
vars['sanity_state'] = 'stable'  // stable/anxious/unstable/breaking
vars['health_state'] = 'healthy'  // healthy/injured/critical
vars['almond_water_state'] = 'sufficient'  // sufficient/low/critical
```

**布尔标记**（是否）：
```javascript
vars['found_level4'] = true
vars['has_seen_smiler'] = true
vars['knows_hound_weakness'] = true
```

**计数器**（数量）：
```javascript
vars['days_survived'] = 10
vars['explored_levels'] = 3
vars['karma_score'] = 5  // 用于结局判断
```

## 变量的使用

**条件显示选项**：
```
if (vars['almond_water_state'] === 'critical') {
  显示选项："喝掉最后一瓶杏仁水"
}
```

**文本替换**：
```
你的理智状态：{{sanity_state}}
你已经存活了 {{days_survived}} 天
```

**结局判断**：
```
if (vars['karma_score'] >= 10 && vars['found_exit']) {
  跳转到："逃脱结局"
} else if (vars['gave_up_escape']) {
  跳转到："定居结局"
}
```

## Backrooms核心变量

见 `backrooms游戏设计/README.md` 的"变量列表"部分。

