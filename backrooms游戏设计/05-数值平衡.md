# 05-数值平衡

> **从理论到实践：Backrooms的数值设计与平衡**

---

## 平衡设计哲学

### 核心原则

```yaml
理智是王道:
  - 理智值最重要，归零=Game Over
  - 杏仁水是核心资源
  - 玩家永远处于"理智焦虑"状态

风险与回报:
  - 危险层级有更好物资
  - 安全层级资源稳定但平庸
  - 玩家需要权衡

渐进难度:
  - Level 0-1: 学习期，宽容
  - Level 2-4: 建立策略
  - Level 5+: 挑战极限

公平但致命:
  - 所有死亡都有预警
  - 但一旦失误确实会死
  - 没有"无敌模式"
```

---

## 三大属性平衡

### 理智值（Sanity）

#### 基础数据
```yaml
初始值: 100
最大值: 100
最小值: 0
归零后果: 精神崩溃，Game Over

平均消耗速度:
  - Level 0: 5点/小时
  - Level 1: 3点/小时
  - Level 4: 1点/小时
  - Level 5: 15点/小时
  
目标: 玩家每小时需要1-2瓶杏仁水维持
```

---

#### 消耗速率曲线

```
理智消耗（每小时）

15 |                        ●  Level 5
   |
12 |
   |
 9 |              ●  Level 2
   |
 6 |
   |         ●  Level 0
 3 |    ●  Level 1
   |
 0 |● Level 4
   └────────────────────────────────→ 层级危险度
```

---

#### 理智平衡点计算

```javascript
// 目标：玩家在Level 0待20分钟后理智降至约80

理智消耗 = -5/小时 = -1.67/20分钟
实际遭遇Smiler = -20
预期理智 = 100 - 1.67 - 20 ≈ 78

✅ 符合设计：玩家感到压力，但未濒危

// 如果找到1瓶杏仁水 +20
恢复后理智 = 78 + 20 = 98
✅ 恢复到安全状态，但未满值（避免资源浪费）
```

---

### 生命值（Health）

#### 基础数据
```yaml
初始值: 100
最大值: 100
最小值: 0
归零后果: 死亡，Game Over

主要消耗来源: 实体攻击
主要恢复来源: 物资包

目标: 玩家携带5-8份物资包，可应对2-3次战斗
```

---

#### 实体伤害平衡表

| 实体 | 伤害 | 遭遇概率 | 可避免性 | 期望伤害（次） |
|------|------|---------|---------|---------------|
| Smiler | 0 | 40% | 高（手电筒） | 0 |
| Hound | -30 | 35% | 中（眼神接触70%） | -10.5 |
| Burster | -40 | 25% | 高（杏仁水95%） | -2 |
| Partygoer | -50 | 100%* | 低（逃脱50%） | -25 |
| Bone Thief | -100 | 15% | 中（识别） | -15 |

*仅在Level Fun内

---

#### 生命消耗预期

```javascript
// Level 0-1探索30分钟的期望伤害:

Smiler×2: 0伤害（手电筒驱散）
Hound×1: -30 × 30%（失败率） = -9
Bone Thief×1: -100 × 10%（触发率） = -10

期望总伤害: -19
期望剩余生命: 100 - 19 = 81

✅ 符合设计：玩家感到威胁但未致命

// 使用1份物资包恢复 +15
恢复后生命: 81 + 15 = 96
✅ 接近满状态，继续探索
```

---

### 体力值（Stamina）

#### 基础数据
```yaml
初始值: 100
最大值: 100
最小值: 0
归零后果: 无法奔跑，逃跑必败

主要消耗: 奔跑、Noclip、跳跃
主要恢复: 休息、物资包、时间

目标: 体力不应成为限制因素，但关键时刻会影响
```

---

#### 体力消耗场景

```yaml
场景1：遭遇Hound后奔跑逃离
  - 奔跑1分钟: -5
  - 剩余体力: 95
  - 结论: 影响小

场景2：连续3次Noclip尝试
  - Noclip×3: -30
  - 剩余体力: 70
  - 结论: 可持续

场景3：连续战斗（最坏情况）
  - 遭遇1：奔跑逃离 -5
  - 遭遇2：Noclip逃脱 -10
  - 遭遇3：奔跑+跳Drop Maze -25
  - 总消耗: -40
  - 剩余体力: 60
  - 结论: 仍可行动，但需休息
```

---

#### 体力恢复平衡

```yaml
休息10分钟: +10体力
  - 在Level 4休息20分钟 = 完全恢复
  - ✅ 不会让玩家等太久

物资包: +25体力
  - 立即恢复1/4
  - ✅ 应急手段

睡眠: +50体力/小时
  - 6小时睡眠 = 满体力
  - ✅ 长期恢复方案
```

---

## 物资获取平衡

### 杏仁水（核心资源）

#### 获取率设计目标
```yaml
目标：玩家每小时获得2-3瓶，消耗1-2瓶
  - 保持+1瓶/小时的净增长
  - 避免资源过剩或匮乏
```

---

#### 各层级杏仁水获取表

| 层级 | 保证获得 | 搜索概率 | 停留时间 | 期望获得 |
|------|---------|---------|---------|---------|
| Level 0 | 0 | 30% | 20分钟 | +0.6瓶 |
| Level 1 | +3瓶 | 40% | 30分钟 | +3.8瓶 |
| Level 4 | 无限 | 100% | 自由 | 无限 |
| Level 5 | 0 | 15% | 10分钟 | +0.15瓶 |
| Level 11 | 0 | 30% | 长期 | 稳定 |

---

#### 杏仁水平衡验证

```javascript
// 场景：玩家从Level 0到Level 4的旅程

阶段1：Level 0（20分钟）
  消耗：-5理智/小时 × 0.33小时 = -1.67理智
  遭遇：Smiler -20, Bone Thief误入 -25理智
  搜索：30%概率×3次 ≈ 1瓶
  累计：理智53, 杏仁水4瓶（初始3+1）

阶段2：使用1瓶杏仁水
  理智：53 + 20 = 73

阶段3：Level 1（30分钟）
  消耗：-3理智/小时 × 0.5小时 = -1.5理智
  遭遇：Hound -10理智
  获得：保证+3瓶
  累计：理智61.5, 杏仁水6瓶

阶段4：到达Level 4
  理智：61.5 (安全范围)
  杏仁水：6瓶 (充裕)
  
✅ 平衡良好：玩家有压力但未绝望，资源充足但未过剩
```

---

### 物资包（次要资源）

#### 获取率设计目标
```yaml
目标：玩家每小时获得1-2份，消耗0-1份
  - 主要用于应急治疗
  - 不是主要消耗品
```

---

#### 物资包获取平衡

| 层级 | 保证获得 | 搜索概率 | 期望获得 |
|------|---------|---------|---------|
| Level 0 | 0 | 5% | 0.1份 |
| Level 1 | +1份 | 30% | 1.6份 |
| Level 5 | 0 | 25% | 高但危险 |
| Level 11 | 0 | 40% | 稳定 |

---

### 稀有物资（绳索）

#### 获取率设计
```yaml
绳索：极稀有，战略资源

总获得机会：
  - Level 1工具区: 10%
  - Level 5地下室: 30%（高危）
  - 随机搜索: 5%

预期：整个游戏获得0-2根
用途：Drop Maze（100%安全）或高危探索

设计意图：
  - 不依赖绳索也能通关
  - 但绳索提供"保险"选项
  - 体力足够可跳过Drop Maze（70%成功）
```

---

## 遭遇概率平衡

### 遭遇频率设计

```yaml
目标遭遇频率：
  - 每3-5个节点1次遭遇
  - 保持紧张感，但不过于频繁
  - 玩家有喘息时间
```

---

### Level 0遭遇表

```javascript
总遭遇概率：70%（每个节点）

Bone Thief: 15%
  - 伤害：-100（即死）
  - 可避免性：中（识别伪装）
  - 危险度：⚫ 极高

Smiler: 40%
  - 伤害：0（纯理智）
  - 可避免性：高（手电筒100%）
  - 危险度：🟠 中

Yellow Hound: 15%
  - 伤害：-30
  - 可避免性：中
  - 危险度：🔴 高

无遭遇: 30%
  - 安全节点
```

---

### 遭遇概率平衡验证

```javascript
// 玩家探索Level 0的10个节点

期望遭遇次数：
  Bone Thief: 10 × 15% = 1.5次
  Smiler: 10 × 40% = 4次
  Yellow Hound: 10 × 15% = 1.5次

假设玩家应对：
  Bone Thief: 1次成功识别，0.5次失败 → 死亡50%
  Smiler: 4次手电筒驱散 → 理智-0, 电量-40%
  Yellow Hound: 1.5次遭遇，1次成功逃离 → 生命-15

期望状态：
  理智：100 - 5（环境）= 95（如果幸运）
  生命：100 - 15 = 85
  死亡风险：约30%（Bone Thief）

✅ 符合设计：
  - Level 0有明显威胁
  - 但有经验的玩家可以安全通过
  - 新手有学习成本（可能死亡）
```

---

## 难度曲线设计

### 整体难度曲线

```
难度（死亡风险）

100%|              ●  Level Fun
    |            ╱  ╲
 80%|          ╱      ╲● Level 5
    |        ╱          ╲
 60%|      ╱              ╲
    |    ╱                  ╲
 40%|  ●  Level 0             ╲
    | ╱                         ╲
 20%|╱  ● Level 1                ╲● Level 11
    |                               ╲
  0%|_________●____Level 4___________╲___→ 时间
     0'   20'   40'   60'  80'  100' 120'

关键点：
  - Level 0: 初始挑战（40%）
  - Level 1: 略微缓解（20%）
  - Level 4: 安全区（0%）
  - Level 5: 高峰挑战（80%）
  - Level Fun: 终极考验（100%）
  - Level 11: 定居选择（低风险）
```

---

### 分阶段难度平衡

#### 阶段1：新手期（Level 0-1，0-30分钟）

```yaml
设计目标：
  - 教学玩家机制
  - 适度挑战
  - 允许失误

难度参数：
  - 死亡风险：20-30%
  - 理智消耗：中等（-5/小时）
  - 资源获取：充足（杏仁水4-5瓶）
  - 实体威胁：可应对（手电筒、眼神接触）

平衡验证：
  ✅ 50%新玩家首次通关
  ✅ 80%玩家第二次通关
  ✅ 100%玩家第三次通关
```

---

#### 阶段2：探索期（Level 1-4，30-60分钟）

```yaml
设计目标：
  - 建立生存策略
  - 探索层级网络
  - 发现Level 4（里程碑）

难度参数：
  - 死亡风险：10-20%
  - 理智消耗：低（Level 4恢复）
  - 资源获取：无限（Level 4）
  - 实体威胁：已知应对方法

平衡验证：
  ✅ 玩家感到掌控感
  ✅ 有安全区可返回
  ✅ 建立探索循环
```

---

#### 阶段3：挑战期（Level 5+，60-120分钟）

```yaml
设计目标：
  - 考验玩家技巧
  - 高风险高回报
  - 追求结局

难度参数：
  - 死亡风险：40-80%
  - 理智消耗：极高（-15/小时）
  - 资源获取：有但危险
  - 实体威胁：Boss级（The Beast）

平衡验证：
  ✅ 50%玩家首次尝试失败
  ✅ 玩家需要准备（杏仁水×20+）
  ✅ 成功后有成就感
```

---

## Noclip等级平衡

### Noclip成长曲线

```yaml
等级提升速度：
  - 每次成功Noclip +1经验
  - 每次实体攻击触发本能 +1
  - 每30天生存 +2

等级里程碑：
  Level 0 → Level 3: 3次成功（约30分钟）
  Level 3 → Level 6: 5次成功（约1小时）
  Level 6 → Level 9: 7次成功（约2小时）

总计：15次成功Noclip达到Level 9
预期游戏时长：3-4小时
```

---

### Noclip成功率平衡

| 等级 | 成功率 | 失败后果 | 使用场景 |
|------|-------|---------|---------|
| 0-2 | 20% | 卡墙（-20生命） | 教学阶段 |
| 3-5 | 50% | 随机传送 | 探索阶段 |
| 6-8 | 75% | 轻伤（-10生命） | 挑战阶段 |
| 9-10 | 95% | 几乎无 | 结局阶段 |

---

### Noclip风险回报

```javascript
// 场景：Level 1到Level 11的Noclip（需等级4+）

Noclip等级4，成功率50%

成功：
  → 到达Level 11（理想定居地）
  → 价值：极高

失败：
  → 随机传送到Level 2/5/6
  → 可能到危险层级
  → 但可以再次Noclip逃离

期望价值：
  50% × (极高价值) + 50% × (中等风险)
  = 正期望

✅ 设计合理：值得尝试，但有风险
```

---

## 结局触发条件平衡

### 结局A：逃离（Perfect Ending）

```yaml
条件：
  - Noclip等级 ≥ 9
  - 理智 ≥ 60
  - 探索 ≥ 8个层级
  - 生存 ≥ 15天

难度：⚫⚫⚫⚫⚫（极难）
达成率目标：10-15%

平衡验证：
  - 需要约4-5小时游戏时间
  - 需要出色的资源管理
  - 需要避免所有致命失误
  ✅ 真正的"完美"结局，应该稀有
```

---

### 结局B：定居Level 11（Good Ending）

```yaml
条件：
  - 到达Level 11
  - 停留 ≥ 3天
  - 理智 ≥ 40

难度：⚫⚫⚫（中等）
达成率目标：30-40%

平衡验证：
  - 需要约2-3小时
  - 需要找到Level 11（需技巧）
  - 但条件宽松
  ✅ 多数玩家的"好"结局
```

---

### 结局C：精神崩溃（Bad Ending）

```yaml
条件：
  - 理智 = 0

难度：自然触发
达成率：20-30%（新手）

平衡验证：
  - 新手常见结局（资源管理失败）
  - 但有经验后可完全避免
  ✅ 合理的失败结局
```

---

### 结局D：Partygoer转化（Worst Ending）

```yaml
条件：
  - 进入Level Fun
  - 被Partygoer抓住
  - 72小时内未治愈

难度：⚫⚫⚫⚫（很难触发）
达成率：5-10%

平衡验证：
  - 需要主动作死（进入Level Fun）
  - 有多次警告
  - 有治愈机会（50%）
  ✅ 真正的"坏"结局，稀有
```

---

## 数值调整指南

### 如果玩家反馈"太难"

```yaml
可调整参数：

1. 降低理智消耗：
   - Level 0: -5 → -3/小时
   - Level 1: -3 → -2/小时

2. 提高杏仁水获取：
   - Level 0搜索: 30% → 40%
   - Level 1保证: +3 → +5瓶

3. 降低实体伤害：
   - Hound: -30 → -25
   - Burster: -40 → -35

4. 提高Noclip成功率：
   - 所有等级 +10%
```

---

### 如果玩家反馈"太简单"

```yaml
可调整参数：

1. 提高理智消耗：
   - 所有层级 +2/小时

2. 降低杏仁水获取：
   - 搜索概率 -10%

3. 提高实体遭遇率：
   - 所有层级 +10%

4. 降低Noclip成功率：
   - 所有等级 -10%

5. 增加新威胁：
   - 更多即死陷阱
   - 时间限制事件
```

---

### 数据驱动的平衡调整

```yaml
收集数据：
  - 平均通关时间
  - 平均死亡次数
  - 结局达成率
  - 理智/生命/体力平均值
  - 物资平均持有量
  - Noclip成功率

目标指标：
  - 通关时间: 2-4小时
  - 死亡次数: 1-3次（新手）
  - 完美结局率: 10-15%
  - 好结局率: 30-40%
  - 坏结局率: 20-30%
  - 放弃率: <20%

调整频率：
  - 每100位玩家数据后调整
  - 小步迭代（±10%）
  - A/B测试不同参数
```

---

## 数值表总览

### 快速参考表

#### 属性初始值
| 属性 | 初始值 | 最大值 | 归零后果 |
|------|-------|--------|---------|
| 理智 | 100 | 100 | 精神崩溃 |
| 生命 | 100 | 100 | 死亡 |
| 体力 | 100 | 100 | 无法逃跑 |

#### 物资初始值
| 物资 | 初始 | 最大 | 效果 |
|------|------|------|------|
| 杏仁水 | 3 | 99 | 理智+20, 生命+5, 体力+10 |
| 物资包 | 5 | 50 | 生命+15, 体力+25 |
| 手电筒 | 100% | 100% | 驱散Smiler（-10%） |
| 绳索 | 0 | 3 | Drop Maze 100%通过 |

#### 层级理智消耗
| 层级 | 消耗/小时 | 安全等级 |
|------|----------|---------|
| Level 0 | -5 | 🟡 中等 |
| Level 1 | -3 | 🟢 安全 |
| Level 2 | -8 | 🟠 危险 |
| Level 4 | -1 | 🟢 极安全 |
| Level 5 | -15 | 🔴 致命 |
| Level 6 | -20 | 🔴 致命 |
| Level 11 | -2 | 🟢 安全 |

#### 实体伤害表
| 实体 | 生命 | 理智 | 遭遇率 | 可避免性 |
|------|------|------|--------|---------|
| Smiler | 0 | -20 | 40% | 高 |
| Hound | -30 | -10 | 35% | 中 |
| Burster | -40 | 0 | 25% | 高 |
| Partygoer | -50 | -30 | 100%* | 低 |
| Bone Thief | -100 | 0 | 15% | 中 |
| The Beast | -60 | -50 | 100%** | 无 |

*仅Level Fun  
**仅Level 5

---

## 总结：平衡的艺术

### 设计目标

```yaml
玩家体验目标：
  - "我总是缺1-2瓶杏仁水"（资源紧张）
  - "这次差点死了"（惊险刺激）
  - "终于到Level 4了"（成就感）
  - "我要再玩一次"（可重玩性）

数值目标：
  - 通关率: 60-70%（首次40%，多次80%）
  - 完美结局率: 10-15%
  - 平均游戏时长: 2-4小时
  - 重玩率: 40%
```

### 平衡哲学

> **"数值设计不是数学游戏，而是情感设计。"**
> 
> 我们不是在平衡数字，而是在平衡：
> - 恐惧与希望
> - 挑战与成就
> - 压力与释然
> 
> 当玩家说"再来一局"时，我们就成功了。

---

**下一章**: [06-技术实现方案](./06-技术实现方案.md) - MoScript引擎映射

---

**最后更新**: 2025-10-29  
**文档状态**: ✅ 完成  
**版本**: v1.0

